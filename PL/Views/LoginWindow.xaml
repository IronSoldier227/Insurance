<!-- PL/Views/LoginWindow.xaml -->
<Window x:Class="PL.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Вход в систему" Height="420" Width="400"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        Style="{StaticResource CustomWindowStyle}">

    <Grid Margin="30">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Заголовок -->
            <RowDefinition Height="Auto"/>
            <!-- Панель ввода -->
            <RowDefinition Height="Auto"/>
            <!-- Кнопка входа -->
            <RowDefinition Height="Auto"/>
            <!-- Сообщение об ошибке -->
            <RowDefinition Height="Auto"/>
            <!-- Пустое пространство -->
            <RowDefinition Height="Auto"/>
            <!-- Ссылка на регистрацию -->
        </Grid.RowDefinitions>

        <!-- Заголовок -->
        <TextBlock Grid.Row="0" 
                   Text="Авторизация" 
                   Style="{StaticResource CustomHeaderTextStyle}" 
                   FontSize="24" 
                   HorizontalAlignment="Center" 
                   Margin="0,0,0,20"/>

        <!-- Панель ввода -->
        <GroupBox Grid.Row="1" 
                  Header="Данные для входа" 
                  Margin="0,0,0,10"
                  Style="{StaticResource CustomGroupBoxStyle}">
            <StackPanel>
                <Label Content="Логин:" Target="{Binding ElementName=LoginTextBox}" Margin="0,0,0,5"/>
                <TextBox x:Name="LoginTextBox" 
                         Text="{Binding Login, UpdateSourceTrigger=PropertyChanged}" 
                         Style="{StaticResource CustomTextBoxStyle}" 
                         Margin="0,0,0,10"/>

                <Label Content="Пароль:" Target="{Binding ElementName=PasswordBox}" Margin="0,0,0,5"/>
                <PasswordBox x:Name="PasswordBox" 
                             Style="{StaticResource CustomPasswordBoxStyle}" 
                             Margin="0,0,0,10"/>
            </StackPanel>
        </GroupBox>

        <!-- Кнопка входа -->
        <Button Grid.Row="2" 
                Content="Войти" 
                Command="{Binding LoginCommand}" 
                CommandParameter="{x:Reference PasswordBox}"
                Style="{StaticResource CustomButtonStyle}" 
                Width="100" 
                HorizontalAlignment="Center" 
                Margin="0,0,0,10"/>

        <!-- Сообщение об ошибке -->
        <TextBlock Grid.Row="3" 
                   Text="{Binding ErrorMessage}" 
                   Foreground="Red" 
                   HorizontalAlignment="Center" 
                   Margin="0,0,0,10" 
                   TextWrapping="Wrap" 
                   Visibility="{Binding ErrorMessage, Converter={StaticResource StringToVisibilityConverter}}"/>

        <!-- Пустое пространство -->
        <TextBlock Grid.Row="4" 
                   Text="" 
                   Margin="0,0,0,10"/>

        <!-- Ссылка на регистрацию -->
        <TextBlock Grid.Row="5" 
                   Text="Нет аккаунта? Зарегистрироваться" 
                   Foreground="{StaticResource PrimaryBrush}" 
                   TextDecorations="Underline" 
                   HorizontalAlignment="Center" 
                   Margin="0,0,0,0" 
                   Cursor="Hand">
            <TextBlock.InputBindings>
                <MouseBinding MouseAction="LeftClick" Command="{Binding NavigateToRegisterCommand}"/>
            </TextBlock.InputBindings>
        </TextBlock>
    </Grid>
</Window>